<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI êµìœ¡ í† ë¡  í”Œë«í¼ (í•˜ì´ë¸Œë¦¬ë“œ ë²„ì „)</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <!-- React -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
        }

        h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1em;
        }

        .mode-indicator {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .mode-indicator.firebase {
            background: #4caf50;
            color: white;
        }

        .mode-indicator.local {
            background: #ff9800;
            color: white;
        }

        .mode-indicator::before {
            content: 'â—';
            margin-right: 5px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            color: #1565c0;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }

        .tab-button {
            flex: 1;
            padding: 15px 30px;
            background: white;
            border: none;
            border-radius: 15px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .tab-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .tab-button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .content-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .topic-title {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
        }

        .topic-description {
            color: #555;
            line-height: 1.8;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .section-title {
            color: #764ba2;
            font-size: 1.4em;
            margin: 30px 0 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title::before {
            content: 'â—';
            color: #667eea;
        }

        .discussion-section {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            color: #555;
            font-weight: bold;
            margin-bottom: 5px;
        }

        input, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        input:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        button[type="submit"] {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 10px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
        }

        button[type="submit"]:hover {
            transform: scale(1.05);
        }

        button[type="submit"]:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .comments-list {
            margin-top: 20px;
        }

        .comment-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            border-left: 4px solid #667eea;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .comment-author {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .comment-date {
            color: #999;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .comment-text {
            color: #333;
            line-height: 1.6;
        }

        .policy-card {
            background: linear-gradient(135deg, #f8f9ff 0%, #e8eaff 100%);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            border: 2px solid #667eea;
            animation: slideIn 0.3s ease-out;
        }

        .policy-title {
            color: #667eea;
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .policy-content {
            color: #555;
            line-height: 1.6;
        }

        .vote-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .vote-btn {
            padding: 8px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
        }

        .vote-btn:hover {
            transform: scale(1.05);
        }

        .vote-btn.agree {
            background: #4caf50;
            color: white;
        }

        .vote-btn.disagree {
            background: #f44336;
            color: white;
        }

        .vote-count {
            display: inline-block;
            padding: 5px 15px;
            background: #e0e0e0;
            border-radius: 20px;
            font-size: 0.9em;
            margin-left: 10px;
        }

        .case-study {
            background: #fff5f5;
            border-left: 4px solid #f44336;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            animation: slideIn 0.3s ease-out;
        }

        .case-study-title {
            color: #f44336;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .solution {
            background: #f0f8ff;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .solution-title {
            color: #2196f3;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .success-message {
            background: #e8f5e9;
            color: #2e7d32;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #2e7d32;
            animation: slideIn 0.3s ease-out;
        }

        .error-message {
            background: #ffebee;
            color: #c62828;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #c62828;
            animation: slideIn 0.3s ease-out;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .tabs {
                flex-direction: column;
            }

            .stats-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // ==========================================
        // Firebase ì„¤ì • (ì„ íƒì‚¬í•­)
        // ==========================================
        // Firebaseë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì•„ë˜ ì„¤ì •ì„ Firebase ì½˜ì†”ì—ì„œ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”
        // ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ ìë™ìœ¼ë¡œ localStorageë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤
        
       const firebaseConfig = {
    apiKey: "AIzaSyC1x2y3z4a5b6c7d8e9f0",
    authDomain: "ai-education-123.firebaseapp.com",
    databaseURL: "https://ai-education-123.firebaseio.com",
    projectId: "ai-education-123",
    storageBucket: "ai-education-123.appspot.com",
    messagingSenderId: "123456789012",
    appId: "1:123456789012:web:abc123"
        };

        // Firebase ì„¤ì • ì—¬ë¶€ í™•ì¸
        const isFirebaseConfigured = !firebaseConfig.apiKey.includes('ì—¬ê¸°ì—');
        
        // ==========================================
        // ë°ì´í„° ì €ì¥/ë¡œë“œ ìœ í‹¸ë¦¬í‹°
        // ==========================================
        const STORAGE_KEY = 'ai_education_discussion_data';

        // localStorageì—ì„œ ë°ì´í„° ë¡œë“œ
        const loadFromLocalStorage = () => {
            try {
                const savedData = localStorage.getItem(STORAGE_KEY);
                if (savedData) {
                    return JSON.parse(savedData);
                }
            } catch (error) {
                console.error('localStorage ë¡œë“œ ì˜¤ë¥˜:', error);
            }
            return { comments: { topic1: [], topic2: [] }, policies: [], cases: [] };
        };

        // localStorageì— ë°ì´í„° ì €ì¥
        const saveToLocalStorage = (data) => {
            try {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
            } catch (error) {
                console.error('localStorage ì €ì¥ ì˜¤ë¥˜:', error);
            }
        };

        function DiscussionPlatform() {
            const [activeTab, setActiveTab] = useState('topic1');
            const [comments, setComments] = useState({ topic1: [], topic2: [] });
            const [policies, setPolicies] = useState([]);
            const [cases, setCases] = useState([]);
            const [success, setSuccess] = useState(null);
            const [error, setError] = useState(null);
            const [mode, setMode] = useState('local'); // 'local' or 'firebase'
            const [firebaseDB, setFirebaseDB] = useState(null);

            // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
            useEffect(() => {
                if (isFirebaseConfigured) {
                    // Firebase ì„¤ì •ì´ ìˆìœ¼ë©´ Firebase ì‚¬ìš©
                    try {
                        if (!firebase.apps.length) {
                            firebase.initializeApp(firebaseConfig);
                        }
                        const database = firebase.database();
                        setFirebaseDB(database);
                        setMode('firebase');

                        // ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
                        const commentsRef = database.ref('comments');
                        const policiesRef = database.ref('policies');
                        const casesRef = database.ref('cases');

                        commentsRef.on('value', (snapshot) => {
                            const data = snapshot.val();
                            if (data) {
                                // Firebase ë°ì´í„° êµ¬ì¡° ë³€í™˜
                                const formattedComments = {
                                    topic1: data.topic1 ? Object.values(data.topic1) : [],
                                    topic2: data.topic2 ? Object.values(data.topic2) : []
                                };
                                setComments(formattedComments);
                            }
                        });

                        policiesRef.on('value', (snapshot) => {
                            const data = snapshot.val();
                            if (data) {
                                setPolicies(Object.values(data));
                            }
                        });

                        casesRef.on('value', (snapshot) => {
                            const data = snapshot.val();
                            if (data) {
                                setCases(Object.values(data));
                            }
                        });

                        return () => {
                            commentsRef.off();
                            policiesRef.off();
                            casesRef.off();
                        };
                    } catch (err) {
                        console.error('Firebase ì´ˆê¸°í™” ì˜¤ë¥˜:', err);
                        setError('Firebase ì—°ê²° ì‹¤íŒ¨. localStorage ëª¨ë“œë¡œ ì „í™˜í•©ë‹ˆë‹¤.');
                        setMode('local');
                        const localData = loadFromLocalStorage();
                        setComments(localData.comments);
                        setPolicies(localData.policies);
                        setCases(localData.cases);
                    }
                } else {
                    // Firebase ì„¤ì •ì´ ì—†ìœ¼ë©´ localStorage ì‚¬ìš©
                    setMode('local');
                    const localData = loadFromLocalStorage();
                    setComments(localData.comments);
                    setPolicies(localData.policies);
                    setCases(localData.cases);
                }
            }, []);

            // localStorage ëª¨ë“œì¼ ë•Œ ë°ì´í„° ë³€ê²½ ì‹œ ìë™ ì €ì¥
            useEffect(() => {
                if (mode === 'local') {
                    saveToLocalStorage({ comments, policies, cases });
                }
            }, [comments, policies, cases, mode]);

            const showSuccess = (message) => {
                setSuccess(message);
                setTimeout(() => setSuccess(null), 3000);
            };

            const showError = (message) => {
                setError(message);
                setTimeout(() => setError(null), 5000);
            };

            // ì˜ê²¬ ë“±ë¡
            const handleCommentSubmit = async (e, topic) => {
                e.preventDefault();
                const formData = new FormData(e.target);
                
                const newComment = {
                    author: formData.get('author'),
                    text: formData.get('comment'),
                    date: new Date().toLocaleString('ko-KR'),
                    timestamp: Date.now()
                };

                try {
                    if (mode === 'firebase' && firebaseDB) {
                        // Firebaseì— ì €ì¥
                        await firebaseDB.ref(`comments/${topic}`).push(newComment);
                    } else {
                        // localStorageì— ì €ì¥
                        const newComments = {
                            ...comments,
                            [topic]: [...comments[topic], newComment]
                        };
                        setComments(newComments);
                    }
                    
                    e.target.reset();
                    showSuccess('ì˜ê²¬ì´ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
                } catch (err) {
                    showError('ì˜ê²¬ ë“±ë¡ ì‹¤íŒ¨: ' + err.message);
                }
            };

            // ì •ì±… ì œì•ˆ
            const handlePolicySubmit = async (e) => {
                e.preventDefault();
                const formData = new FormData(e.target);
                
                const newPolicy = {
                    id: Date.now(),
                    title: formData.get('policyTitle'),
                    content: formData.get('policyContent'),
                    agree: 0,
                    disagree: 0,
                    timestamp: Date.now()
                };

                try {
                    if (mode === 'firebase' && firebaseDB) {
                        // Firebaseì— ì €ì¥
                        await firebaseDB.ref('policies').push(newPolicy);
                    } else {
                        // localStorageì— ì €ì¥
                        setPolicies([...policies, newPolicy]);
                    }
                    
                    e.target.reset();
                    showSuccess('ì •ì±…ì´ ì„±ê³µì ìœ¼ë¡œ ì œì•ˆë˜ì—ˆìŠµë‹ˆë‹¤!');
                } catch (err) {
                    showError('ì •ì±… ì œì•ˆ ì‹¤íŒ¨: ' + err.message);
                }
            };

            // ì‚¬ë¡€ ë“±ë¡
            const handleCaseSubmit = async (e) => {
                e.preventDefault();
                const formData = new FormData(e.target);
                
                const newCase = {
                    id: Date.now(),
                    problem: formData.get('problem'),
                    solution: formData.get('solution'),
                    timestamp: Date.now()
                };

                try {
                    if (mode === 'firebase' && firebaseDB) {
                        // Firebaseì— ì €ì¥
                        await firebaseDB.ref('cases').push(newCase);
                    } else {
                        // localStorageì— ì €ì¥
                        setCases([...cases, newCase]);
                    }
                    
                    e.target.reset();
                    showSuccess('ì‚¬ë¡€ê°€ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
                } catch (err) {
                    showError('ì‚¬ë¡€ ë“±ë¡ ì‹¤íŒ¨: ' + err.message);
                }
            };

            // íˆ¬í‘œ
            const handleVote = async (policyId, voteType) => {
                try {
                    if (mode === 'firebase' && firebaseDB) {
                        // Firebaseì—ì„œ í•´ë‹¹ ì •ì±… ì°¾ê¸° ë° ì—…ë°ì´íŠ¸
                        const policiesRef = firebaseDB.ref('policies');
                        const snapshot = await policiesRef.once('value');
                        const policiesData = snapshot.val();
                        
                        if (policiesData) {
                            Object.keys(policiesData).forEach(key => {
                                if (policiesData[key].id === policyId) {
                                    firebaseDB.ref(`policies/${key}/${voteType}`).set(
                                        policiesData[key][voteType] + 1
                                    );
                                }
                            });
                        }
                    } else {
                        // localStorageì—ì„œ ì—…ë°ì´íŠ¸
                        const newPolicies = policies.map(policy => {
                            if (policy.id === policyId) {
                                return {
                                    ...policy,
                                    [voteType]: policy[voteType] + 1
                                };
                            }
                            return policy;
                        });
                        setPolicies(newPolicies);
                    }
                    
                    showSuccess('íˆ¬í‘œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
                } catch (err) {
                    showError('íˆ¬í‘œ ì‹¤íŒ¨: ' + err.message);
                }
            };

            return (
                <div className="container">
                    <header>
                        <h1>ğŸ“ AI êµìœ¡ í† ë¡  í”Œë«í¼</h1>
                        <p className="subtitle">í•¨ê»˜ ìƒê°í•˜ê³ , í•¨ê»˜ í•´ê²°í•˜ëŠ” AI êµìœ¡ì˜ ë¯¸ë˜</p>
                        <div className={`mode-indicator ${mode}`}>
                            {mode === 'firebase' ? 'ğŸ”¥ Firebase ì‹¤ì‹œê°„ ë™ê¸°í™”' : 'ğŸ’¾ ë¡œì»¬ ì €ì¥ ëª¨ë“œ'}
                        </div>
                    </header>

                    {mode === 'local' && (
                        <div className="info-box">
                            <strong>â„¹ï¸ ë¡œì»¬ ì €ì¥ ëª¨ë“œ:</strong><br/>
                            ë°ì´í„°ê°€ ë¸Œë¼ìš°ì €ì— ì €ì¥ë©ë‹ˆë‹¤. Firebaseë¥¼ ì„¤ì •í•˜ë©´ ì‹¤ì‹œê°„ ë™ê¸°í™”ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br/>
                            Firebase ì„¤ì • ë°©ë²•ì€ Firebase_ì„¤ì •_ê°€ì´ë“œ.mdë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.
                        </div>
                    )}

                    {success && (
                        <div className="success-message">
                            âœ… {success}
                        </div>
                    )}

                    {error && (
                        <div className="error-message">
                            âŒ {error}
                        </div>
                    )}

                    <div className="stats-container">
                        <div className="stat-card">
                            <div className="stat-number">{comments.topic1.length + comments.topic2.length}</div>
                            <div className="stat-label">ì´ ì˜ê²¬ ìˆ˜</div>
                        </div>
                        <div className="stat-card">
                            <div className="stat-number">{policies.length}</div>
                            <div className="stat-label">ì œì•ˆëœ ì •ì±…</div>
                        </div>
                        <div className="stat-card">
                            <div className="stat-number">{cases.length}</div>
                            <div className="stat-label">ì‚¬ë¡€ ë¶„ì„</div>
                        </div>
                    </div>

                    <div className="tabs">
                        <button 
                            className={`tab-button ${activeTab === 'topic1' ? 'active' : ''}`}
                            onClick={() => setActiveTab('topic1')}
                        >
                            ë°œì œ 1: AI êµìœ¡ ê²©ì°¨ ë¬¸ì œ
                        </button>
                        <button 
                            className={`tab-button ${activeTab === 'topic2' ? 'active' : ''}`}
                            onClick={() => setActiveTab('topic2')}
                        >
                            ë°œì œ 2: AI êµìœ¡ ë°©í–¥ì„±
                        </button>
                    </div>

                    {activeTab === 'topic1' && (
                        <div>
                            <div className="content-card">
                                <h2 className="topic-title">ë°œì œ 1: AI êµìœ¡ ê²©ì°¨, ë°©ì¹˜í•˜ë©´ ë””ì§€í„¸ ê³„ê¸‰ì‚¬íšŒë¡œ ì´ì–´ì§„ë‹¤</h2>
                                <p className="topic-description">
                                    ì¸ê³µì§€ëŠ¥ ê¸°ìˆ ì˜ ê¸‰ì†í•œ ë°œì „ì€ êµìœ¡ í˜„ì¥ì—ë„ í° ì˜í–¥ì„ ë¯¸ì¹˜ê³  ìˆìŠµë‹ˆë‹¤. 
                                    í•˜ì§€ë§Œ AI êµìœ¡ì— ëŒ€í•œ ì ‘ê·¼ì„±ì˜ ì°¨ì´ëŠ” ìƒˆë¡œìš´ í˜•íƒœì˜ êµìœ¡ ê²©ì°¨ë¥¼ ë§Œë“¤ì–´ë‚´ê³  ìˆìœ¼ë©°, 
                                    ì´ëŠ” ì¥ê¸°ì ìœ¼ë¡œ ë””ì§€í„¸ ê³„ê¸‰ì‚¬íšŒë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ìš°ë ¤ê°€ ì œê¸°ë˜ê³  ìˆìŠµë‹ˆë‹¤.
                                </p>

                                <div className="section-title">í˜„ì¬ ìƒí™© ë¶„ì„</div>
                                <div className="discussion-section">
                                    <p><strong>ì£¼ìš” ì´ìŠˆ:</strong></p>
                                    <ul style={{marginLeft: '20px', marginTop: '10px', lineHeight: '1.8'}}>
                                        <li>ì§€ì—­ë³„, í•™êµë³„ AI êµìœ¡ ì¸í”„ë¼ì˜ ê²©ì°¨</li>
                                        <li>êµì‚¬ ì—­ëŸ‰ì˜ ë¶ˆê· í˜•</li>
                                        <li>ê°€ì • í™˜ê²½ì— ë”°ë¥¸ AI ë„êµ¬ ì ‘ê·¼ì„± ì°¨ì´</li>
                                        <li>ê²½ì œì  ì—¬ê±´ì— ë”°ë¥¸ ì‚¬êµìœ¡ ì˜ì¡´ë„ ì¦ê°€</li>
                                    </ul>
                                </div>

                                <div className="section-title">ì •ì±… ì œì•ˆ ë° í† ë¡ </div>
                                <div className="discussion-section">
                                    <form onSubmit={handlePolicySubmit}>
                                        <div className="form-group">
                                            <label>ì •ì±… ì œëª©</label>
                                            <input type="text" name="policyTitle" required 
                                                   placeholder="ì˜ˆ: ëª¨ë“  í•™êµì— AI êµìœ¡ ì „ë‹´ êµì‚¬ ë°°ì¹˜" />
                                        </div>
                                        <div className="form-group">
                                            <label>ì •ì±… ë‚´ìš©</label>
                                            <textarea name="policyContent" required 
                                                      placeholder="ì •ì±…ì˜ êµ¬ì²´ì ì¸ ë‚´ìš©, ê¸°ëŒ€ íš¨ê³¼, ì˜ˆìƒ ì˜ˆì‚° ë“±ì„ ì‘ì„±í•´ì£¼ì„¸ìš”"></textarea>
                                        </div>
                                        <button type="submit">ì •ì±… ì œì•ˆí•˜ê¸°</button>
                                    </form>

                                    <div style={{marginTop: '30px'}}>
                                        <h4 style={{color: '#667eea', marginBottom: '15px'}}>
                                            ì œì•ˆëœ ì •ì±…ë“¤ ({policies.length}ê°œ)
                                        </h4>
                                        {policies.length === 0 ? (
                                            <p style={{color: '#999', textAlign: 'center', padding: '20px'}}>
                                                ì•„ì§ ì œì•ˆëœ ì •ì±…ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ì •ì±…ì„ ì œì•ˆí•´ë³´ì„¸ìš”!
                                            </p>
                                        ) : (
                                            policies.map(policy => (
                                                <div key={policy.id} className="policy-card">
                                                    <div className="policy-title">{policy.title}</div>
                                                    <div className="policy-content">{policy.content}</div>
                                                    <div className="vote-buttons">
                                                        <button 
                                                            className="vote-btn agree"
                                                            onClick={() => handleVote(policy.id, 'agree')}
                                                        >
                                                            ì°¬ì„± <span className="vote-count">{policy.agree}</span>
                                                        </button>
                                                        <button 
                                                            className="vote-btn disagree"
                                                            onClick={() => handleVote(policy.id, 'disagree')}
                                                        >
                                                            ë°˜ëŒ€ <span className="vote-count">{policy.disagree}</span>
                                                        </button>
                                                    </div>
                                                </div>
                                            ))
                                        )}
                                    </div>
                                </div>

                                <div className="section-title">ììœ  í† ë¡ </div>
                                <div className="discussion-section">
                                    <form onSubmit={(e) => handleCommentSubmit(e, 'topic1')}>
                                        <div className="form-group">
                                            <label>ì´ë¦„</label>
                                            <input type="text" name="author" required placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" />
                                        </div>
                                        <div className="form-group">
                                            <label>ì˜ê²¬</label>
                                            <textarea name="comment" required 
                                                      placeholder="AI êµìœ¡ ê²©ì°¨ í•´ì†Œë¥¼ ìœ„í•œ ì—¬ëŸ¬ë¶„ì˜ ì˜ê²¬ì„ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”"></textarea>
                                        </div>
                                        <button type="submit">ì˜ê²¬ ë“±ë¡</button>
                                    </form>

                                    <div className="comments-list">
                                        <h4 style={{color: '#667eea', margin: '20px 0 15px 0'}}>
                                            ì°¸ì—¬ì ì˜ê²¬ ({comments.topic1.length}ê°œ)
                                        </h4>
                                        {comments.topic1.length === 0 ? (
                                            <p style={{color: '#999', textAlign: 'center', padding: '20px'}}>
                                                ì•„ì§ ë“±ë¡ëœ ì˜ê²¬ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ì˜ê²¬ì„ ë‚¨ê²¨ë³´ì„¸ìš”!
                                            </p>
                                        ) : (
                                            [...comments.topic1].reverse().map((comment, index) => (
                                                <div key={index} className="comment-item">
                                                    <div className="comment-author">{comment.author}</div>
                                                    <div className="comment-date">{comment.date}</div>
                                                    <div className="comment-text">{comment.text}</div>
                                                </div>
                                            ))
                                        )}
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {activeTab === 'topic2' && (
                        <div>
                            <div className="content-card">
                                <h2 className="topic-title">ë°œì œ 2: AI êµìœ¡, 'ë¬´ì—‡ì„' ê°€ë¥´ì¹  ê²ƒì¸ê°€ë³´ë‹¤ 'ì–´ë–»ê²Œ' ê°€ë¥´ì¹  ê²ƒì¸ê°€ê°€ ë” ì¤‘ìš”í•˜ë‹¤</h2>
                                <p className="topic-description">
                                    AI êµìœ¡ì˜ ì„±ê³µì€ ë‹¨ìˆœíˆ ê¸°ìˆ ì  ì§€ì‹ì„ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, 
                                    í•™ìƒë“¤ì´ ë¹„íŒì  ì‚¬ê³ ì™€ ì°½ì˜ì  ë¬¸ì œí•´ê²° ëŠ¥ë ¥ì„ ê¸°ë¥¼ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” êµìœ¡ ë°©ë²•ë¡ ì— ë‹¬ë ¤ ìˆìŠµë‹ˆë‹¤.
                                </p>

                                <div className="section-title">ë¹„íŒì  ì‚¬ê³ ë¥¼ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•œ êµìœ¡ì˜ ë°©ë²•ì€?</div>
                                <div className="discussion-section">
                                    <form onSubmit={handleCaseSubmit}>
                                        <div className="form-group">
                                            <label>ë¹„íŒì  ì‚¬ê³ ë¥¼ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ì–´ë–¤ ëŠ¥ë ¥ì„ í–¥ìƒì‹œì¼œì•¼ í•˜ëŠ”ê°€?
                                            <textarea name="problem" required 
                                                      placeholder="ì˜ˆ: AI ê²°ê³¼ë¬¼ ê²€ì¦ ëŠ¥ë ¥, í”„ë¡¬í”„íŠ¸ ì„¤ê³„ ëŠ¥ë ¥, AI í¸í–¥ì„± ì¸ì‹ ëŠ¥ë ¥ ì¤‘ì—ì„œ ì„ íƒ"></textarea>
                                        </div>
                                        <div className="form-group">
                                            <label>ê·¸ ì™¸ í–¥ìƒì‹œì¼œì•¼ í•˜ëŠ” ëŠ¥ë ¥?</label>
                                            <textarea name="solution" required 
                                                      placeholder="ì˜ˆ: ì´ì•¼ê¸° ê±°ê¾¸ë¡œ ì½ê¸° ë“±"></textarea>
                                        </div>
                                        <button type="submit">ì‚¬ë¡€ ë“±ë¡í•˜ê¸°</button>
                                    </form>

                                    <div style={{marginTop: '30px'}}>
                                        <h4 style={{color: '#667eea', marginBottom: '15px'}}>
                                            ë“±ë¡ëœ ì‚¬ë¡€ ë¶„ì„ ({cases.length}ê°œ)
                                        </h4>
                                        {cases.length === 0 ? (
                                            <p style={{color: '#999', textAlign: 'center', padding: '20px'}}>
                                                ì•„ì§ ë“±ë¡ëœ ì‚¬ë¡€ê°€ ì—†ìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ì‚¬ë¡€ë¥¼ ë“±ë¡í•´ë³´ì„¸ìš”!
                                            </p>
                                        ) : (
                                            cases.map(caseItem => (
                                                <div key={caseItem.id} style={{marginBottom: '20px'}}>
                                                    <div className="case-study">
                                                        <div className="case-study-title">âŒ ë¬¸ì œì </div>
                                                        <div>{caseItem.problem}</div>
                                                    </div>
                                                    <div className="solution">
                                                        <div className="solution-title">âœ… ê°œì„  ë°©ì•ˆ</div>
                                                        <div>{caseItem.solution}</div>
                                                    </div>
                                                </div>
                                            ))
                                        )}
                                    </div>
                                </div>

                                <div className="section-title">ì¢‹ì€ AI êµìœ¡ì˜ ì›ì¹™</div>
                                <div className="discussion-section">
                                    <div style={{padding: '20px', background: 'white', borderRadius: '10px'}}>
                                        <h4 style={{color: '#764ba2', marginBottom: '15px'}}>í•µì‹¬ ì›ì¹™</h4>
                                        <ul style={{lineHeight: '2', marginLeft: '20px'}}>
                                            <li><strong>ê°œë… ì´í•´ ì¤‘ì‹¬:</strong> ë‹¨ìˆœ ë„êµ¬ ì‚¬ìš©ë²•ì´ ì•„ë‹Œ AIì˜ ì‘ë™ ì›ë¦¬ ì´í•´</li>
                                            <li><strong>ìœ¤ë¦¬ì  ì‚¬ê³ :</strong> AIì˜ ì‚¬íšŒì  ì˜í–¥ê³¼ ìœ¤ë¦¬ì  ì´ìŠˆì— ëŒ€í•œ í† ë¡ </li>
                                            <li><strong>í”„ë¡œì íŠ¸ ê¸°ë°˜:</strong> ì‹¤ì œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” í”„ë¡œì íŠ¸ ìˆ˜í–‰</li>
                                            <li><strong>ë¹„íŒì  ì‚¬ê³ :</strong> AIì˜ í•œê³„ì™€ í¸í–¥ì„±ì„ ì¸ì‹í•˜ëŠ” ëŠ¥ë ¥ ë°°ì–‘</li>
                                            <li><strong>í˜‘ë ¥ í•™ìŠµ:</strong> íŒ€ í”„ë¡œì íŠ¸ë¥¼ í†µí•œ í˜‘ì—… ëŠ¥ë ¥ ê°œë°œ</li>
                                        </ul>
                                    </div>
                                </div>

                                <div className="section-title">ììœ  í† ë¡ </div>
                                <div className="discussion-section">
                                    <form onSubmit={(e) => handleCommentSubmit(e, 'topic2')}>
                                        <div className="form-group">
                                            <label>ì´ë¦„</label>
                                            <input type="text" name="author" required placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" />
                                        </div>
                                        <div className="form-group">
                                            <label>ì˜ê²¬</label>
                                            <textarea name="comment" required 
                                                      placeholder="íš¨ê³¼ì ì¸ AI êµìœ¡ ë°©ë²•ì— ëŒ€í•œ ì—¬ëŸ¬ë¶„ì˜ ì˜ê²¬ì„ ê³µìœ í•´ì£¼ì„¸ìš”"></textarea>
                                        </div>
                                        <button type="submit">ì˜ê²¬ ë“±ë¡</button>
                                    </form>

                                    <div className="comments-list">
                                        <h4 style={{color: '#667eea', margin: '20px 0 15px 0'}}>
                                            ì°¸ì—¬ì ì˜ê²¬ ({comments.topic2.length}ê°œ)
                                        </h4>
                                        {comments.topic2.length === 0 ? (
                                            <p style={{color: '#999', textAlign: 'center', padding: '20px'}}>
                                                ì•„ì§ ë“±ë¡ëœ ì˜ê²¬ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ì˜ê²¬ì„ ë‚¨ê²¨ë³´ì„¸ìš”!
                                            </p>
                                        ) : (
                                            [...comments.topic2].reverse().map((comment, index) => (
                                                <div key={index} className="comment-item">
                                                    <div className="comment-author">{comment.author}</div>
                                                    <div className="comment-date">{comment.date}</div>
                                                    <div className="comment-text">{comment.text}</div>
                                                </div>
                                            ))
                                        )}
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    <div className="content-card" style={{marginTop: '30px', textAlign: 'center', background: 'linear-gradient(135deg, #f8f9ff 0%, #e8eaff 100%)'}}>
                        <h3 style={{color: '#667eea', marginBottom: '15px'}}>ğŸ’¡ í•¨ê»˜ ë§Œë“¤ì–´ê°€ëŠ” AI êµìœ¡ì˜ ë¯¸ë˜</h3>
                        <p style={{color: '#666', lineHeight: '1.8'}}>
                            ì—¬ëŸ¬ë¶„ì˜ ì†Œì¤‘í•œ ì˜ê²¬ì´ ë” ë‚˜ì€ AI êµìœ¡ ì •ì±…ê³¼ ë°©í–¥ì„ ë§Œë“œëŠ” ë° ê¸°ì—¬í•©ë‹ˆë‹¤.<br/>
                            ììœ ë¡­ê²Œ ì˜ê²¬ì„ ë‚˜ëˆ„ê³ , ì„œë¡œì˜ ìƒê°ì„ ì¡´ì¤‘í•˜ë©° ê±´ì„¤ì ì¸ í† ë¡ ì„ ì´ì–´ê°€ì£¼ì„¸ìš”.<br/>
                            <strong>{mode === 'firebase' ? 'ğŸ”¥ Firebase ì‹¤ì‹œê°„ ë™ê¸°í™” ëª¨ë“œ' : 'ğŸ’¾ ë¡œì»¬ ì €ì¥ ëª¨ë“œ'}</strong>
                        </p>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<DiscussionPlatform />, document.getElementById('root'));
    </script>
</body>
</html>
